<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The Distiller module &#8212; Building Standards Compliant Geospatial Web Application - The Quick and Easy MapMint Way.</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=1e09a8bb" />
    
    <script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=f8950b3e"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Manager Module" href="manager.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />


     

  </head><body>
<!-- Begin Header -->
<div id="wrapper">
  	<div id="myheader">
    	<div class="hleft">
    	  <h1 class="title"><span class="logo"></span><a href="http://mapmint.com" target="_blank">Map<span>Mint</span></a></h1>
    	</div>
		<div class="hright">
		<ul class="soc">
		<li><a href="#" class="twit"></a></li>
		<li><a href="#" class="guit"></a></li>
		</ul>
		</div>
  	</div>
  	<div id="mysubheader">
  	<h1 class="msg">Building Standards Compliant Geospatial Web Application – The Quick and Easy Map<span>Mint</span> Way.</h1>
  	</div>
</div>
<!-- End Header -->
    

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="manager.html" title="The Manager Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workshop</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The Distiller module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="the-distiller-module">
<span id="distiller"></span><h1>The Distiller module<a class="headerlink" href="#the-distiller-module" title="Link to this heading">¶</a></h1>
<section id="overview-of-the-interface">
<h2>Overview of the interface<a class="headerlink" href="#overview-of-the-interface" title="Link to this heading">¶</a></h2>
<p>The Distiller Interface contains two pannels and looks like the following.</p>
<a class="reference external image-reference" href="/ZOOProject.pdf"><img alt="PDF icon" class="align-center" src="_images/distiller.png" style="width: 648px; height: 344px;" />
</a>
</section>
<section id="the-data-stores">
<h2>The Data Stores<a class="headerlink" href="#the-data-stores" title="Link to this heading">¶</a></h2>
<p>A Datastore is containing data sources, it can be local or remote. It is defined by a <strong>unique name</strong> and various parameter depending on its type. By now, there is 4 differents datastore types supported in MapMint:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Icon</strong></p></td>
<td><p><strong>Type</strong></p></td>
<td><p><strong>Action</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="/ZOOProject.pdf"><img alt="PDF icon" src="_images/add-database.png" style="width: 24px; height: 24px;" /></a></p></td>
<td><p>DataBase</p></td>
<td><p>Add a database connection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="/ZOOProject.pdf"><img alt="PDF icon" src="_images/add-directory.png" style="width: 24px; height: 24px;" /></a></p></td>
<td><p>Directory</p></td>
<td><p>Add a server directory</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="/ZOOProject.pdf"><img alt="PDF icon" src="_images/add-wfs.png" style="width: 24px; height: 24px;" /></a></p></td>
<td><p>WFS Server</p></td>
<td><p>Add a remote WFS server</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="/ZOOProject.pdf"><img alt="PDF icon" src="_images/add-wms.png" style="width: 24px; height: 24px;" /></a></p></td>
<td><p>WMS Server</p></td>
<td><p>Add a remote WMS server</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The datastore name should not contain any <strong>accent</strong> or any special charater available in any language</p>
</div>
<p>During this workshop, you will use the two datastore already available: <cite>NC_Raster</cite> and <cite>NC_Shapes</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Afterward, you can always add your own data in <cite>/var/data/ftp/your-directory</cite> and then create a corresponding datastore from your Distiller.</p>
</div>
<p>If you check the checkbox on the left hand side (so in the <cite>Data Stores</cite> section), you will get a list of available datasources in this datastore displayed on the right hand side (so in the <cite>Data Sources</cite> section).</p>
</section>
<section id="the-data-sources">
<h2>The Data Sources<a class="headerlink" href="#the-data-sources" title="Link to this heading">¶</a></h2>
<p>A data source is corresponding to GIS data available in a datastore (it can be a table in a database, a shapefile in a directory, a layer in WFS/WMS layer). Various datasource types are supported by MapMint.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Icon</strong></p></td>
<td><p><strong>Type</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/data-vector-point-icon.png"><img alt="Vector point datasource icon" src="_images/data-vector-point-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Point datasource</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/data-vector-line-icon.png"><img alt="Vector line datasource icon" src="_images/data-vector-line-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Line datasource</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/data-vector-polygon-icon.png"><img alt="Vector polygon datasource icon" src="_images/data-vector-polygon-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Polygon datasource</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/data-raster-icon.png"><img alt="Raster datasource icon" src="_images/data-raster-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Raster datasource</p></td>
</tr>
</tbody>
</table>
<section id="data-sources-toolbar">
<h3>Data sources toolbar<a class="headerlink" href="#data-sources-toolbar" title="Link to this heading">¶</a></h3>
<p>Once listed, each data source available in a datastore have a toolbar associated which contain the following buttons.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Icon</strong></p></td>
<td><p><strong>Action</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/set-datasources-access-icon.png"><img alt="Set  datasource permissions icon" src="_images/set-datasources-access-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Define access permission</p></td>
</tr>
<tr class="row-odd"><td><p>SRS</p></td>
<td><p>Define Spatial Reference System</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/convert-datasource-icon.png"><img alt="Convert datasource icon" src="_images/convert-datasource-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Converting the data source</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/download-datasource-icon.png"><img alt="Downlaod datasource icon" src="_images/download-datasource-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Download the data source</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/preview-datasource-icon.png"><img alt="Preview datasource icon" src="_images/preview-datasource-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Preview the data source</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/open-in-manager-icon.png"><img alt="Open datasource in manager icon" src="_images/open-in-manager-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Open the data store in the manage</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/delete-datasource-icon.png"><img alt="Delete datasource icon" src="_images/delete-datasource-icon.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Delete the data source</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/fleche.png"><img alt="Display datasource icon" src="_images/fleche.png" style="width: 16px; height: 16px;" /></a></p></td>
<td><p>Display the data source (attributes table or histogram)</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When the SRS field contain <em>No EPSG</em>, it means that MapMint
understand the SRS of the data source but cannot display it as EPSG
code, only when <em>(undefined)</em> is displayed, the SRS is unknown. In
such a case, MapMint will use EPSG:4326 definition as default SRS,
but you can, at any time, click on this button to override this
definition.</p>
</div>
</section>
<section id="quickly-preview-your-data">
<h3>Quickly preview your data<a class="headerlink" href="#quickly-preview-your-data" title="Link to this heading">¶</a></h3>
<p>For both vector and raster data source, you can preview your data
source by clicking on the <em>Preview</em> button, you will then get a window
presenting the data using a GetMap WMS request and which should look
like the following:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Vector data source</strong></p></td>
<td><p><strong>Raster data source</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/pvec.png"><img alt="Preview vector window" src="_images/pvec.png" style="width: 380px; height: 347px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/pras.png"><img alt="Preview raster window" src="_images/pras.png" style="width: 380px; height: 347px;" /></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="vector-data-sources">
<h2>Vector data sources<a class="headerlink" href="#vector-data-sources" title="Link to this heading">¶</a></h2>
<p>You are invited to first display data sources available in the <em>NC_Shapes</em> data store.</p>
<section id="display-attributes-table">
<h3>Display attributes table<a class="headerlink" href="#display-attributes-table" title="Link to this heading">¶</a></h3>
<p>If your press the button looking like a down arrow (the last row of
the <a class="reference external" href="#data-sources-toolbar">toolbar table</a>) you can display
the attribute values table and browse your data smoothly, you can
order and modify column order. One important capability of the table
is that you can modify the encoding of your data in case you are using
data not in UTF-8 encoding, this way your data will be returned
correctly in utf-8 from your WFS server.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Vector data source are always using a basic style you cannot
have access to.</p>
</div>
</section>
<section id="convert-vector-data-sources">
<h3>Convert vector data sources<a class="headerlink" href="#convert-vector-data-sources" title="Link to this heading">¶</a></h3>
<p>You are invited to click on the <em>Convert</em> button in the toolbar for
the <em>poi_names_wake</em> to acces the converting tool window as presented
in the screenshot bellow.</p>
<p><a class="reference internal" href="_images/ogr2ogr.png"><img alt="Ogr2ogr window" src="_images/ogr2ogr.png" style="width: 780px; height: 384px;" /></a></p>
<p>The <em>Vector Converter</em> window contains various parameters you can set
to create a new data source by transforming the original one. There is
4 part in the form:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Source SRS</em>: optional, to define the source Spatial Reference System (SRS) (should be onnly used in case  there is written (undefined) in the SRS section in the data source toolbar.</p></li>
<li><dl class="simple">
<dt><em>Target</em>: to define:</dt><dd><ul>
<li><p><em>Datastore</em>: the data store where your data source will be created</p></li>
<li><p><em>Datasource name</em>: the data source name which will be created</p></li>
<li><p><em>SRS</em>: optional, the SRS used to create the new data source</p></li>
<li><p><em>Format</em>: the data source format of your created data source</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><em>Simplify</em>: optional, give you the capability to simply the data source geometries</p></li>
<li><p><em>SQL</em>: optional, give you the capability to simply the data source geometries</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>in case the created data source is a file, make sure to add the
extension in its name else it will lead to a directory creation
making your data store unavailable. So you will have to remove the
directory created in case you define wrongly the data source
name. Then, to have up-to-date list, first right click on the Data Store
unavailable and click on the <em>Refresh</em> item from the displayed
contextual menu, then check it again.</p>
</div>
<p>We will use the following example: from the points of interrest data
source, you would like to extract the subset containing only the
<em>Populated Places</em>. So you will first check the SQL section and fill
the textarea with the following query:</p>
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">poi_names_wake</span> <span class="pre">WHERE</span> <span class="pre">&quot;class&quot;</span> <span class="pre">=</span> <span class="pre">&quot;Populated</span> <span class="pre">Place&quot;</span></code></p>
<p>Now, click on the <em>Run convertion</em> button, once your data source will
be created, the window should be closed automatically, now you should
refresh your data store, by accessing the contextual menu by right
click on the <em>NC_Shapes</em> data store. Once the Distiller was reloaded,
check your data store again and you should see appearing your new data
source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Source code of the ZOO-Service vector-converter is based
on <strong>ogr2ogr</strong> from the <a class="reference external" href="http://gdal.org">GDAL library</a>.</p>
</div>
</section>
</section>
<section id="raster-data-sources">
<h2>Raster data sources<a class="headerlink" href="#raster-data-sources" title="Link to this heading">¶</a></h2>
<p>You are invited to first display data sources available in the
<em>NC_Raster</em> data store.</p>
<section id="display-histogram">
<h3>Display histogram<a class="headerlink" href="#display-histogram" title="Link to this heading">¶</a></h3>
<p>If your press the button looking like a down arrow (the last row of
the <a class="reference external" href="#data-sources-toolbar">toolbar table</a>) you can display
the histogram of your rasyer bands.</p>
</section>
<section id="raster-tools">
<h3>Raster tools<a class="headerlink" href="#raster-tools" title="Link to this heading">¶</a></h3>
<p>As you did previously for vector data, open the Converter window for
the <em>elevation</em> data source.</p>
<p><a class="reference internal" href="_images/gdaldem.png"><img alt="Gdaldem window" src="_images/gdaldem.png" style="width: 780px; height: 384px;" /></a></p>
<p>Your goal is to create a new raster data sources named
<em>elevation_shaded</em> with a nice shaded relief effect. First select the
hillshade method, then set the <em>Filename</em> value to
<cite>test_elevation_shade</cite> then click on the <em>Run</em> button.</p>
<p>You are free to generate more raster data sources using other methods,
please make sure to change the name any time you generate a new raster
data source.</p>
<p>Now, you will simply need to refresh you data store as you did
before. Once you have it listed, you can preview it.</p>
</section>
</section>
<section id="open-a-data-source-in-the-manager">
<h2>Open a data source in the Manager<a class="headerlink" href="#open-a-data-source-in-the-manager" title="Link to this heading">¶</a></h2>
<p>Using the raster data source created in the previosly, prior to go
to the next section, please click the <em>Open in the Manager</em> button
(6th row from the <a class="reference external" href="#data-sources-toolbar">toolbar table</a>) of the
<em>elevation_shaded</em> data source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The raster convertion tools presented here are based on
gdaldem dan gdal_contour source code from the <a class="reference external" href="http://gdal.org">GDAL library</a>.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Distiller module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-the-interface">Overview of the interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-stores">The Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-sources">The Data Sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-sources-toolbar">Data sources toolbar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quickly-preview-your-data">Quickly preview your data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vector-data-sources">Vector data sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#display-attributes-table">Display attributes table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#convert-vector-data-sources">Convert vector data sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#raster-data-sources">Raster data sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#display-histogram">Display histogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#raster-tools">Raster tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#open-a-data-source-in-the-manager">Open a data source in the Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manager.html">The Manager Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="publisher.html">The Publisher Module</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Begin Footer -->
<div id="footer">
<div class="container">
<div class="lft">
 <h1 class="titleb"><span class="logo"></span><a href="http://mapmint.com" target="_blank">Map<span>Mint</span></a></h1>
<hr/>
</div>
<div class="rgt">
<img src="http://test.trial.mapmint.com/cgi-bin/zoo_loader.cgi?service=WPS&version=1.0.0&request=Execute&Identifier=QREncode&DataInputs=size=3;bgcolor=3A3A3A;fgcolor=83C849;Text=http://mapmint.com&RawDataOutput=QR" />
</div>
</div>
</div>
<!-- End Footer -->
<div class="bottom-block">
<div class="btm-cnt">
<p>&copy; Copyright 2011-2014 
<a href="http://mapmint.com" class="ftr" target="_blank">
<span class="mmw">Map</span><span class="mmg">Mint</span>
</a>
</p>
</div>
</div>

<script>
</script>

  </body>
</html>